"use client";

import React, { useEffect } from "react";
import styles from "./page.module.scss";
import { Greeting } from "@/components/Greeting";
import { ProjectProgress } from "@/components/ProjectProgress";
import { Statistics } from "@/components/Statistics";
import { Username } from "@/components/Username";
import { CreateProject } from "@/components/CreateProject";
import { Calendar } from "@/components/Calendar";
import { Meeting } from "@/components/Meeting";
import { CreateMeeting } from "@/components/CreateMeeting";
import { useAppDispatch, useAppSelector } from "@/store/hooks";
import { fetchUserInfo } from "@/store/profile/actions";

const exampleIconUrl = "https://cdn-icons-png.flaticon.com/512/149/149071.png";

export default function Profile() {
  const dispatch = useAppDispatch();

  const userInfo = useAppSelector((store) => store.profile.info);

  useEffect(() => {
    dispatch(fetchUserInfo());
  }, []);

  if (!userInfo) {
    return <div>Loading...</div>;
  }

  return (
    <div className={styles.page}>
      <div className={styles.page__firstColumn}>
        <Greeting userName={userInfo.name} />
        <ProjectProgress projectName="Хакатон" progress={50} />
        <ProjectProgress projectName="Хакатон" progress={50} />
        <ProjectProgress projectName="Хакатон" progress={50} />
        <ProjectProgress projectName="Хакатон" progress={50} />
        <Statistics value={11} actionName="Часов работы" />
        <Statistics value={11} actionName="Часов работы" />
        <Statistics value={11} actionName="Часов работы" />
      </div>
      <div className={styles.page__secondColumn}>
        <Username username={userInfo.name} />
        <CreateProject />
        <div className={styles.page__secondColumn__widgets}>
          <Calendar />
          <div className={styles.page__secondColumn__widgets__meetings}>
            <Meeting
              projectName="Хакатон"
              date="2024-09-19T12:23:00Z"
              images={[exampleIconUrl, exampleIconUrl, exampleIconUrl]}
              link="https://zoom.us/"
            />
            <Meeting
              projectName="Хакатон"
              date="2024-09-29T10:23:00Z"
              images={[exampleIconUrl, exampleIconUrl, exampleIconUrl]}
              link="https://zoom.us/"
            />
            <CreateMeeting />
          </div>
        </div>
        <div className={styles.page__secondColumn__beatiful}>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="302"
            height="150"
            viewBox="0 0 302 150"
            fill="none"
          >
            <path
              d="M260.302 76.0217C251.098 76.0217 242.27 79.9187 235.761 86.8555C229.252 93.7922 225.595 103.2 225.595 113.01C225.595 122.821 229.252 132.229 235.761 139.165C242.27 146.102 251.098 149.999 260.302 149.999L260.302 76.0217Z"
              fill="#B2B2B2"
            />
            <path
              d="M114.971 76.0217C105.766 76.0217 96.9378 79.9187 90.4289 86.8555C83.92 93.7922 80.2633 103.2 80.2633 113.01C80.2633 122.821 83.92 132.229 90.4289 139.165C96.9378 146.102 105.766 149.999 114.971 149.999V76.0217Z"
              fill="#B2B2B2"
            />
            <path
              d="M40.1359 150C40.1359 145.143 41.0617 140.333 42.8604 135.845C44.6591 131.357 47.2955 127.28 50.6191 123.845C53.9427 120.41 57.8884 117.686 62.2309 115.827C66.5734 113.968 71.2276 113.011 75.9279 113.011V150H40.1359Z"
              fill="#D6D6D6"
            />
            <path
              d="M76.075 112.996C71.3846 112.998 66.7398 112.044 62.4056 110.187C58.0715 108.331 54.1329 105.609 50.8148 102.176C47.4967 98.7437 44.864 94.6682 43.0671 90.1823C41.2702 85.6964 40.3442 80.888 40.342 76.0316L76.0585 76.0156L76.075 112.996Z"
              fill="#B2B2B2"
            />
            <path
              d="M39.0487 149.998H12.76C5.71445 149.998 0.00292969 144.269 0.00292969 137.202V113.009H26.2917C33.3372 113.009 39.0487 118.738 39.0487 125.805V149.998Z"
              fill="#B2B2B2"
            />
            <path
              d="M302 149.998H275.711C268.666 149.998 262.954 144.269 262.954 137.202V113.009H289.243C296.288 113.009 302 118.738 302 125.805V149.998Z"
              fill="#B2B2B2"
            />
            <path
              d="M39.0487 76.0027V100.196C39.0487 107.263 33.3372 112.991 26.2917 112.991H0.00292969V88.7986C0.00292969 81.7316 5.71445 76.0027 12.76 76.0027H39.0487Z"
              fill="#D6D6D6"
            />
            <path
              d="M302 76.0027V100.196C302 107.263 296.288 112.991 289.243 112.991H262.954V88.7986C262.954 81.7316 268.666 76.0027 275.711 76.0027H302Z"
              fill="#D6D6D6"
            />
            <path
              d="M114.971 76.0217C124.176 76.0217 133.004 79.9187 139.513 86.8555C146.021 93.7922 149.678 103.2 149.678 113.01C149.678 122.821 146.021 132.229 139.513 139.165C133.004 146.102 124.176 149.999 114.971 149.999V76.0217Z"
              fill="#E9E9E9"
            />
            <path
              d="M223.427 76.0217C218.869 76.0217 214.356 76.9785 210.145 78.8373C205.934 80.6962 202.108 83.4208 198.885 86.8555C195.662 90.2902 193.105 94.3678 191.361 98.8555C189.617 103.343 188.719 108.153 188.719 113.01L223.427 113.01V76.0217Z"
              fill="#B2B2B2"
            />
            <path
              d="M188.742 112.924C193.281 112.909 197.778 113.851 201.978 115.696C206.177 117.541 209.996 120.252 213.217 123.676C216.438 127.099 218.997 131.168 220.749 135.649C222.5 140.13 223.41 144.936 223.425 149.792L188.861 149.905L188.742 112.924Z"
              fill="#E9E9E9"
            />
            <path
              d="M188.721 113.039C188.721 117.61 187.767 122.137 185.914 126.361C184.061 130.585 181.344 134.422 177.92 137.655C174.496 140.888 170.43 143.452 165.956 145.202C161.482 146.951 156.687 147.852 151.844 147.852V113.039L188.721 113.039Z"
              fill="#B2B2B2"
            />
            <path
              d="M188.729 112.997C184.171 112.997 179.658 112.04 175.447 110.182C171.236 108.323 167.41 105.598 164.187 102.163C160.964 98.7287 158.408 94.651 156.664 90.1634C154.919 85.6757 154.022 80.8658 154.022 76.0084H188.729V112.997Z"
              fill="#E9E9E9"
            />
            <path
              d="M260.3 0.015152C251.095 0.015152 242.267 3.91217 235.758 10.8489C229.249 17.7856 225.592 27.1939 225.592 37.0039C225.592 46.8139 229.249 56.2222 235.758 63.1589C242.267 70.0956 251.095 73.9926 260.3 73.9926L260.3 0.015152Z"
              fill="#B2B2B2"
            />
            <path
              d="M114.964 0.015152C105.759 0.015152 96.931 3.91217 90.4221 10.8489C83.9132 17.7856 80.2565 27.1939 80.2565 37.0039C80.2565 46.8139 83.9132 56.2222 90.4221 63.1589C96.931 70.0956 105.759 73.9926 114.964 73.9926L114.964 0.015152Z"
              fill="#B2B2B2"
            />
            <path
              d="M40.132 73.9973C40.132 69.1399 41.0578 64.33 42.8565 59.8423C44.6553 55.3546 47.2917 51.277 50.6153 47.8423C53.9389 44.4076 57.8846 41.683 62.227 39.8242C66.5695 37.9653 71.2238 37.0086 75.924 37.0086V73.9973H40.132Z"
              fill="#D6D6D6"
            />
            <path
              d="M76.0721 37.0014C71.3817 37.0035 66.7369 36.0491 62.4028 34.1925C58.0686 32.336 54.13 29.6138 50.8119 26.1813C47.4938 22.7488 44.8611 18.6733 43.0642 14.1874C41.2673 9.70149 40.3413 4.89308 40.3391 0.0366974L76.0556 0.0206757L76.0721 37.0014Z"
              fill="#B2B2B2"
            />
            <path
              d="M39.0458 73.9916H12.757C5.71155 73.9916 0 68.2627 0 61.1958V37.0029L26.2888 37.0029C33.3343 37.0029 39.0458 42.7318 39.0458 49.7987V73.9916Z"
              fill="#B2B2B2"
            />
            <path
              d="M302 73.9916H275.711C268.666 73.9916 262.954 68.2627 262.954 61.1958V37.0029H289.243C296.288 37.0029 302 42.7318 302 49.7987V73.9916Z"
              fill="#B2B2B2"
            />
            <path
              d="M39.0458 0V24.1929C39.0458 31.2599 33.3343 36.9888 26.2888 36.9888L0 36.9888V12.7959C0 5.7289 5.71155 0 12.757 0H39.0458Z"
              fill="#D6D6D6"
            />
            <path
              d="M302 0V24.1929C302 31.2599 296.288 36.9888 289.243 36.9888H262.954V12.7959C262.954 5.7289 268.666 0 275.711 0H302Z"
              fill="#D6D6D6"
            />
            <path
              d="M114.964 0.015152C124.169 0.015152 132.997 3.91217 139.506 10.8489C146.015 17.7856 149.671 27.1939 149.671 37.0039C149.671 46.8139 146.015 56.2222 139.506 63.1589C132.997 70.0956 124.169 73.9926 114.964 73.9926L114.964 0.015152Z"
              fill="#E9E9E9"
            />
            <path
              d="M223.424 0.015152C218.866 0.015152 214.353 0.971893 210.142 2.83075C205.931 4.68961 202.105 7.41417 198.882 10.8489C195.659 14.2836 193.103 18.3612 191.358 22.8489C189.614 27.3366 188.716 32.1465 188.716 37.0039H223.424V0.015152Z"
              fill="#B2B2B2"
            />
            <path
              d="M188.739 36.9214C193.278 36.9066 197.775 37.8485 201.975 39.6933C206.174 41.5381 209.994 44.2496 213.214 47.6731C216.435 51.0966 218.994 55.165 220.746 59.646C222.497 64.127 223.407 68.9329 223.423 73.7893L188.858 73.902L188.739 36.9214Z"
              fill="#E9E9E9"
            />
            <path
              d="M188.718 37.0319C188.718 41.6036 187.764 46.1306 185.911 50.3543C184.058 54.578 181.341 58.4157 177.917 61.6484C174.493 64.8811 170.427 67.4454 165.953 69.1949C161.479 70.9444 156.684 71.8449 151.841 71.8449V37.0319H188.718Z"
              fill="#B2B2B2"
            />
            <path
              d="M188.727 37.0023C184.169 37.0023 179.656 36.0455 175.445 34.1866C171.234 32.3278 167.408 29.6032 164.185 26.1685C160.962 22.7338 158.406 18.6562 156.662 14.1685C154.918 9.68079 154.02 4.87091 154.02 0.0134888L188.727 0.013504V37.0023Z"
              fill="#E9E9E9"
            />
          </svg>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="302"
            height="150"
            viewBox="0 0 302 150"
            fill="none"
          >
            <path
              d="M41.6975 73.9783C50.9025 73.9783 59.7304 70.0813 66.2393 63.1445C72.7482 56.2078 76.4049 46.7996 76.4049 36.9895C76.4049 27.1795 72.7482 17.7713 66.2393 10.8345C59.7304 3.89778 50.9025 0.00076036 41.6975 0.000758879L41.6975 73.9783Z"
              fill="#56837D"
            />
            <path
              d="M187.029 73.9783C196.234 73.9783 205.062 70.0813 211.571 63.1445C218.08 56.2078 221.737 46.7996 221.737 36.9895C221.737 27.1795 218.08 17.7713 211.571 10.8345C205.062 3.89778 196.234 0.00076036 187.029 0.000758879V73.9783Z"
              fill="#56837D"
            />
            <path
              d="M261.864 0C261.864 4.85743 260.938 9.6673 259.14 14.155C257.341 18.6427 254.704 22.7203 251.381 26.155C248.057 29.5897 244.112 32.3143 239.769 34.1732C235.427 36.032 230.772 36.9888 226.072 36.9888V0H261.864Z"
              fill="#1C5664"
            />
            <path
              d="M225.925 37.0037C230.615 37.0016 235.26 37.9561 239.594 39.8126C243.928 41.6691 247.867 44.3913 251.185 47.8238C254.503 51.2563 257.136 55.3318 258.933 59.8177C260.73 64.3036 261.656 69.112 261.658 73.9684L225.941 73.9844L225.925 37.0037Z"
              fill="#56837D"
            />
            <path
              d="M262.951 0.00178089H289.24C296.286 0.00178089 301.997 5.73068 301.997 12.7976V36.9905H275.708C268.663 36.9905 262.951 31.2616 262.951 24.1947V0.00178089Z"
              fill="#56837D"
            />
            <path
              d="M0 0.00178089H26.2887C33.3343 0.00178089 39.0458 5.73068 39.0458 12.7976V36.9905H12.757C5.71153 36.9905 0 31.2616 0 24.1947V0.00178089Z"
              fill="#56837D"
            />
            <path
              d="M262.951 73.9973V49.8044C262.951 42.7375 268.663 37.0085 275.708 37.0085H301.997V61.2014C301.997 68.2684 296.286 73.9973 289.24 73.9973H262.951Z"
              fill="#1C5664"
            />
            <path
              d="M0 73.9973V49.8044C0 42.7375 5.71152 37.0085 12.757 37.0085H39.0458V61.2014C39.0458 68.2684 33.3343 73.9973 26.2888 73.9973H0Z"
              fill="#1C5664"
            />
            <path
              d="M187.029 73.9783C177.824 73.9783 168.996 70.0813 162.487 63.1445C155.979 56.2078 152.322 46.7996 152.322 36.9895C152.322 27.1795 155.979 17.7713 162.487 10.8345C168.996 3.89778 177.824 0.00076036 187.029 0.000758879V73.9783Z"
              fill="#69A7B4"
            />
            <path
              d="M78.5733 73.9783C83.1311 73.9783 87.6444 73.0215 91.8552 71.1627C96.0661 69.3038 99.8923 66.5792 103.115 63.1445C106.338 59.7098 108.895 55.6322 110.639 51.1445C112.383 46.6568 113.281 41.847 113.281 36.9895H78.5733V73.9783Z"
              fill="#56837D"
            />
            <path
              d="M113.258 37.0759C108.719 37.0907 104.222 36.1488 100.022 34.304C95.8227 32.4593 92.0036 29.7477 88.7829 26.3242C85.5622 22.9007 83.003 18.8323 81.2514 14.3513C79.4999 9.87031 78.5902 5.06442 78.5745 0.208068L113.139 0.0953356L113.258 37.0759Z"
              fill="#69A7B4"
            />
            <path
              d="M113.279 36.9615C113.279 32.3898 114.233 27.8628 116.086 23.6391C117.939 19.4154 120.656 15.5777 124.08 12.345C127.504 9.1123 131.57 6.548 136.044 4.79848C140.518 3.04896 145.313 2.1485 150.156 2.1485V36.9615H113.279Z"
              fill="#56837D"
            />
            <path
              d="M113.271 37.0029C117.829 37.0029 122.342 37.9596 126.553 39.8185C130.764 41.6773 134.59 44.4019 137.813 47.8366C141.036 51.2713 143.592 55.349 145.336 59.8366C147.081 64.3243 147.978 69.1342 147.978 73.9916H113.271V37.0029Z"
              fill="#69A7B4"
            />
            <path
              d="M41.7004 149.985C50.9054 149.985 59.7333 146.088 66.2422 139.151C72.7511 132.214 76.4078 122.806 76.4078 112.996C76.4078 103.186 72.7511 93.7778 66.2422 86.8411C59.7333 79.9044 50.9054 76.0074 41.7004 76.0074L41.7004 149.985Z"
              fill="#56837D"
            />
            <path
              d="M187.036 149.985C196.241 149.985 205.069 146.088 211.578 139.151C218.087 132.214 221.743 122.806 221.743 112.996C221.743 103.186 218.087 93.7778 211.578 86.8411C205.069 79.9044 196.241 76.0074 187.036 76.0074V149.985Z"
              fill="#56837D"
            />
            <path
              d="M261.868 76.0027C261.868 80.8601 260.942 85.67 259.143 90.1577C257.345 94.6454 254.708 98.723 251.385 102.158C248.061 105.592 244.115 108.317 239.773 110.176C235.43 112.035 230.776 112.991 226.076 112.991V76.0027H261.868Z"
              fill="#1C5664"
            />
            <path
              d="M225.928 112.999C230.618 112.996 235.263 113.951 239.597 115.807C243.931 117.664 247.87 120.386 251.188 123.819C254.506 127.251 257.139 131.327 258.936 135.813C260.733 140.299 261.659 145.107 261.661 149.963L225.944 149.979L225.928 112.999Z"
              fill="#56837D"
            />
            <path
              d="M262.954 76.0084H289.243C296.288 76.0084 302 81.7373 302 88.8042V112.997H275.711C268.666 112.997 262.954 107.268 262.954 100.201V76.0084Z"
              fill="#56837D"
            />
            <path
              d="M0 76.0084H26.2887C33.3343 76.0084 39.0458 81.7373 39.0458 88.8042V112.997H12.757C5.71152 112.997 0 107.268 0 100.201V76.0084Z"
              fill="#56837D"
            />
            <path
              d="M262.954 150V125.807C262.954 118.74 268.666 113.011 275.711 113.011H302V137.204C302 144.271 296.288 150 289.243 150H262.954Z"
              fill="#1C5664"
            />
            <path
              d="M0 150V125.807C0 118.74 5.71152 113.011 12.757 113.011H39.0458V137.204C39.0458 144.271 33.3343 150 26.2888 150H0Z"
              fill="#1C5664"
            />
            <path
              d="M187.036 149.985C177.831 149.985 169.003 146.088 162.494 139.151C155.985 132.214 152.329 122.806 152.329 112.996C152.329 103.186 155.985 93.7778 162.494 86.8411C169.003 79.9044 177.831 76.0074 187.036 76.0074V149.985Z"
              fill="#69A7B4"
            />
            <path
              d="M78.5762 149.985C83.1341 149.985 87.6473 149.028 91.8581 147.169C96.069 145.31 99.8952 142.586 103.118 139.151C106.341 135.716 108.897 131.639 110.642 127.151C112.386 122.663 113.284 117.854 113.284 112.996H78.5762V149.985Z"
              fill="#56837D"
            />
            <path
              d="M113.261 113.079C108.722 113.093 104.225 112.151 100.025 110.307C95.8256 108.462 92.0065 105.75 88.7858 102.327C85.5651 98.9034 83.0059 94.835 81.2543 90.354C79.5028 85.873 78.5931 81.0671 78.5774 76.2107L113.142 76.098L113.261 113.079Z"
              fill="#69A7B4"
            />
            <path
              d="M113.282 112.968C113.282 108.396 114.236 103.869 116.089 99.6457C117.942 95.422 120.659 91.5843 124.083 88.3516C127.507 85.1189 131.573 82.5546 136.047 80.8051C140.521 79.0556 145.316 78.1551 150.159 78.1551V112.968H113.282Z"
              fill="#56837D"
            />
            <path
              d="M113.273 112.998C117.831 112.998 122.344 113.954 126.555 115.813C130.766 117.672 134.592 120.397 137.815 123.832C141.038 127.266 143.594 131.344 145.338 135.832C147.082 140.319 147.98 145.129 147.98 149.987L113.273 149.986V112.998Z"
              fill="#69A7B4"
            />
          </svg>
        </div>
      </div>
    </div>
  );
}
